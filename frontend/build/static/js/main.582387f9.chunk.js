(this["webpackJsonpusers-auth"]=this["webpackJsonpusers-auth"]||[]).push([[0],{47:function(e,a,t){e.exports=t(71)},53:function(e,a,t){},71:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(25),c=t.n(l);t(52),t(53),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=t(19),s=t(20),i=t(35),u=r.a.createContext(null),m=function(e){return function(a){return r.a.createElement(u.Consumer,null,(function(t){return r.a.createElement(e,Object.assign({},a,{firebase:t}))}))}},p=u,E=t(8),h=t(27),d=t.n(h),f=(t(54),t(56),{apiKey:"AIzaSyD8-uaRhDt0cacDLMkyS76LWWYB6HEYO6s",authDomain:"satcollector1.firebaseapp.com",databaseURL:"https://satcollector1.firebaseio.com",projectId:"satcollector1",storageBucket:"satcollector1.appspot.com",messagingSenderId:"86885810150"}),b=function e(){var a=this;Object(E.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,t){return a.auth.createUserWithEmailAndPassword(e,t)},this.doSignInWithEmailAndPassword=function(e,t){return a.auth.signInWithEmailAndPassword(e,t)},this.doSignOut=function(){return a.auth.signOut()},this.doPasswordReset=function(e){return a.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return a.auth.currentUser.updatePassword(e)},this.user=function(e){return a.db.ref("users/".concat(e))},this.users=function(){return a.db.ref("users")},d.a.initializeApp(f),this.auth=d.a.auth(),this.db=d.a.database()},g=(m((function(e){var a=e.firebase;return r.a.createElement("button",{type:"button",onClick:a.doSignOut},"Sign Out")})),"/buybitcoin"),y=r.a.createContext(null),w=t(9),v=t(11),O=t(10),j=t(12),C=function(e){var a=function(a){function t(e){var a;return Object(E.a)(this,t),(a=Object(v.a)(this,Object(O.a)(t).call(this,e))).state={authUser:null},a}return Object(j.a)(t,a),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged((function(a){a?e.setState({authUser:a}):e.setState({authUser:null})}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return r.a.createElement(y.Provider,{value:this.state.authUser},r.a.createElement(e,this.props))}}]),t}(r.a.Component);return m(a)},S=t(26),P=function(e){return function(a){var t=function(t){function n(){return Object(E.a)(this,n),Object(v.a)(this,Object(O.a)(n).apply(this,arguments))}return Object(j.a)(n,t),Object(w.a)(n,[{key:"componentDidMount",value:function(){var a=this;this.listener=this.props.firebase.auth.onAuthStateChanged((function(t){e(t)||a.props.history.push("/signin")}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var t=this;return r.a.createElement(y.Consumer,null,(function(n){return e(n)?r.a.createElement(a,t.props):null}))}}]),n}(r.a.Component);return Object(S.a)(s.e,m)(t)}},x=t(72),T=t(73),A=t(74),k=t(75),B=t(89),U=t(76),W=t(77),D=t(78),I=t(79),R=function(){var e=Object(n.useState)(!1),a=Object(i.a)(e,2),t=a[0],l=a[1];return r.a.createElement(T.a,{color:"light",light:!0,expand:"md"},r.a.createElement(A.a,{href:"/buybitcoin"},"SatCollector"),r.a.createElement(k.a,{onClick:function(){return l(!t)}}),r.a.createElement(B.a,{isOpen:t,navbar:!0},r.a.createElement(U.a,{pills:!0,className:"mr-auto",navbar:!0},r.a.createElement(W.a,null,r.a.createElement(D.a,{href:"/buybitcoin/"},"Buy bitcoin")),r.a.createElement(W.a,null,r.a.createElement(D.a,{href:"/wallet/"},"Wallet"))),r.a.createElement(I.a,null,r.a.createElement(D.a,{href:"/signin/"},"Log In"))))},H=function(){var e=Object(n.useState)(!1),a=Object(i.a)(e,2),t=a[0],l=a[1];return r.a.createElement(T.a,{color:"light",light:!0,expand:"md"},r.a.createElement(A.a,{href:"/buybitcoin/"},"SATCOLLECTOR"),r.a.createElement(k.a,{onClick:function(){return l(!t)}}),r.a.createElement(B.a,{isOpen:t,navbar:!0},r.a.createElement(U.a,{pills:!0,className:"mr-auto",navbar:!0},r.a.createElement(W.a,null,r.a.createElement(D.a,{href:"/buybitcoin/"},"Buy bitcoin")),r.a.createElement(W.a,null,r.a.createElement(D.a,{href:"/wallet/"},"Wallet")),r.a.createElement(W.a,null,r.a.createElement(D.a,{href:"/account/"},"Profile"))),r.a.createElement(I.a,null,r.a.createElement(D.a,{href:"/signin/"},"Log In"))))},N=function(){return r.a.createElement("div",null,r.a.createElement(y.Consumer,null,(function(e){return e?r.a.createElement(H,null):r.a.createElement(R,null)})))},L=t(15),z=t(16),M=t(1),F=t(80),K=t(81),Y=t(82),J=t(83),V=t(84),$=t(85),X=t(86),q={username:"",email:"",passwordOne:"",passwordTwo:"",error:null},G=function(e){function a(e){var t;return Object(E.a)(this,a),(t=Object(v.a)(this,Object(O.a)(a).call(this,e))).onSubmit=function(e){var a=t.state,n=(a.username,a.email),r=a.passwordOne;t.props.firebase.doCreateUserWithEmailAndPassword(n,r).then((function(e){t.setState(Object(z.a)({},q)),t.props.history.push(g)})).catch((function(e){t.setState({error:e})})),e.preventDefault()},t.onChange=function(e){t.setState(Object(L.a)({},e.target.name,e.target.value))},t.state=Object(z.a)({},q),t}return Object(j.a)(a,e),Object(w.a)(a,[{key:"render",value:function(){var e=this.state,a=e.username,t=e.email,n=e.passwordOne,l=e.passwordTwo,c=(e.error,n!==l||""===n||""===t||""===a);return r.a.createElement(F.a,null,r.a.createElement(K.a,{onSubmit:this.onSubmit},r.a.createElement(Y.a,{form:!0},r.a.createElement(J.a,{md:6},r.a.createElement(V.a,null,r.a.createElement($.a,{for:"exampleEmail"},"Email"),r.a.createElement(X.a,{type:"email",name:"email",value:t,onChange:this.onChange,id:"exampleEmail",placeholder:"Email address"}))),r.a.createElement(J.a,{md:6},r.a.createElement(V.a,null,r.a.createElement($.a,{for:"exampleUsername"},"Username"),r.a.createElement(X.a,{type:"text",name:"username",value:a,onChange:this.onChange,id:"exampleUsername",placeholder:"Your Username"})))),r.a.createElement(V.a,null,r.a.createElement($.a,{for:"examplePasswordOne"},"Password"),r.a.createElement(X.a,{type:"password",name:"passwordOne",value:n,onChange:this.onChange,id:"examplePasswordOne",placeholder:"Password"})),r.a.createElement(V.a,null,r.a.createElement($.a,{for:"eexamplePasswordTwo"},"Confirm Password"),r.a.createElement(X.a,{type:"password",name:"passwordTwo",value:l,onChange:this.onChange,id:"examplePasswordTwo",placeholder:"Confirm Password"})),r.a.createElement(V.a,null,r.a.createElement(x.a,{primary:!0,disabled:c,type:"submit",color:"primary",size:"lg"},"Sign Up"))))}}]),a}(n.Component);F.a.propTypes={fluid:M.PropTypes.oneOfType([M.PropTypes.bool,M.PropTypes.string])};var Q=function(){return r.a.createElement("p",null,"Don't have an account? ",r.a.createElement(o.b,{to:"/signup"},"Sign Up"))},Z=Object(s.e)(m(G)),_=function(){return r.a.createElement(F.a,null,r.a.createElement("h1",null,"Sign Up"),r.a.createElement("br",null),r.a.createElement(Z,null))},ee=t(87),ae=t(90),te={email:"",error:null},ne=function(e){function a(e){var t;return Object(E.a)(this,a),(t=Object(v.a)(this,Object(O.a)(a).call(this,e))).onSubmit=function(e){var a=t.state.email;t.props.firebase.doPasswordReset(a).then((function(){t.setState(Object(z.a)({},te))})).catch((function(e){t.setState({error:e})})),e.preventDefault()},t.onChange=function(e){t.setState(Object(L.a)({},e.target.name,e.target.value))},t.state=Object(z.a)({},te),t}return Object(j.a)(a,e),Object(w.a)(a,[{key:"render",value:function(){var e=this.state,a=e.email,t=e.error,n=""===a;return r.a.createElement(K.a,{onSubmit:this.onSubmit},r.a.createElement(Y.a,null,r.a.createElement(J.a,{md:6},r.a.createElement(ee.a,null,r.a.createElement(X.a,{placeholder:"Email address",name:"email",value:this.state.email,onChange:this.onChange,type:"email"}))),r.a.createElement(J.a,{md:6},r.a.createElement(ee.a,null,r.a.createElement(ae.a,null," ",r.a.createElement(x.a,{disabled:n,type:"submit",color:"danger"},"Reset My Password"))))),t&&r.a.createElement("p",null,t.message))}}]),a}(n.Component),re=function(){return r.a.createElement("p",null,r.a.createElement(o.b,{to:"/pw-forget"},"Forgot Password?"))},le=function(){return r.a.createElement(F.a,null,r.a.createElement("h1",null,"PasswordForget"),r.a.createElement(ce,null))},ce=m(ne),oe={email:"",password:"",error:null},se=function(e){function a(e){var t;return Object(E.a)(this,a),(t=Object(v.a)(this,Object(O.a)(a).call(this,e))).onSubmit=function(e){var a=t.state,n=a.email,r=a.password;t.props.firebase.doSignInWithEmailAndPassword(n,r).then((function(){t.setState(Object(z.a)({},oe)),t.props.history.push(g)})).catch((function(e){t.setState({error:e})})),e.preventDefault()},t.onChange=function(e){t.setState(Object(L.a)({},e.target.name,e.target.value))},t.state=Object(z.a)({},oe),t}return Object(j.a)(a,e),Object(w.a)(a,[{key:"render",value:function(){var e=this.state,a=e.email,t=e.password,n=(e.error,""===t||""===a);return r.a.createElement(F.a,null,r.a.createElement(K.a,{onSubmit:this.onSubmit},r.a.createElement(Y.a,null,r.a.createElement(J.a,{md:6},r.a.createElement(V.a,null,r.a.createElement($.a,{for:"exampleEmail"},"Email"),r.a.createElement(X.a,{type:"email",name:"email",value:a,onChange:this.onChange,id:"exampleEmail",placeholder:"Email address"}))),r.a.createElement(J.a,{md:6},r.a.createElement(V.a,null,r.a.createElement($.a,{for:"examplePasswordOne"},"Password"),r.a.createElement(X.a,{type:"password",name:"password",value:t,onChange:this.onChange,id:"examplePasswordOne",placeholder:"Password"})))),r.a.createElement(x.a,{primary:!0,disabled:n,type:"submit",color:"primary",size:"lg"},"Sign In"),r.a.createElement(V.a,null,r.a.createElement(re,null)),r.a.createElement(V.a,null,r.a.createElement(Q,null))))}}]),a}(n.Component),ie=Object(S.a)(s.e,m)(se),ue=function(){return r.a.createElement("div",null,r.a.createElement(ie,null))},me=(P((function(e){return!!e}))((function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Home Page"),r.a.createElement("p",null,"The Home Page is accessible by every signed in user."))})),{passwordOne:"",passwordTwo:"",error:null}),pe=function(e){function a(e){var t;return Object(E.a)(this,a),(t=Object(v.a)(this,Object(O.a)(a).call(this,e))).onSubmit=function(e){var a=t.state.passwordOne;t.props.firebase.doPasswordUpdate(a).then((function(){t.setState(Object(z.a)({},me))})).catch((function(e){t.setState({error:e})})),e.preventDefault()},t.onChange=function(e){t.setState(Object(L.a)({},e.target.name,e.target.value))},t.state=Object(z.a)({},me),t}return Object(j.a)(a,e),Object(w.a)(a,[{key:"render",value:function(){var e=this.state,a=e.passwordOne,t=e.passwordTwo,n=e.error,l=a!==t||""===a;return r.a.createElement(K.a,{onSubmit:this.onSubmit},r.a.createElement("input",{name:"passwordOne",value:a,onChange:this.onChange,type:"password",placeholder:"New Password"}),r.a.createElement("input",{name:"passwordTwo",value:t,onChange:this.onChange,type:"password",placeholder:"Confirm New Password"}),r.a.createElement("button",{disabled:l,type:"submit"},"Reset My Password"),n&&r.a.createElement("p",null,n.message))}}]),a}(n.Component),Ee=m(pe),he=P((function(e){return!!e}))((function(){return r.a.createElement(y.Consumer,null,(function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Account: ",e.email),r.a.createElement(ce,null),r.a.createElement(Ee,null))}))})),de=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Admin"))},fe=t(13),be={currencies:[{code:"KSH",sellRate:1,buyRate:98e4,name:"Kenyan Shilling",sign:"KSH",initial:0},{code:"BTC",sellRate:109e-8,name:"Bitcoins",sign:"\u20bf",initial:0}]},ge=function(e){function a(e){var t;return Object(E.a)(this,a),(t=Object(v.a)(this,Object(O.a)(a).call(this,e))).state={currencyA:be.currencies[0],currencyB:be.currencies[1],currencyAval:be.currencies[0].initial,currencyBval:be.currencies[1].initial,rate:""},t.onChangeHandler=t.onChangeHandler.bind(Object(fe.a)(t)),t}return Object(j.a)(a,e),Object(w.a)(a,[{key:"onChangeHandler",value:function(e,a){var t,n,r=this.state;r.currencyA,r.rate;if("A"===a){var l=e.currentTarget.value;this.state;this.setState({currencyAval:l,currencyBval:(n=l/this.state.rate,Number.parseFloat(n).toFixed(8).toLocaleString())})}else if("B"===a){var c=e.currentTarget.value;this.state;this.setState({currencyAval:(t=c*this.state.rate,t.toFixed(0).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")),currencyBval:c})}}},{key:"componentDidMount",value:function(){var e=this;fetch("".concat("http://localhost:3001","/rate")).then((function(e){return e.json()})).then((function(a){e.setState({rate:a.btckes}),console.log(a),console.log(e.state.rate)}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.currencyA,n=a.currencyB,l=a.currencyAval,c=a.currencyBval,o=a.rate;a.newValueA,a.newValueB;return r.a.createElement(F.a,null,r.a.createElement(K.a,null,r.a.createElement(Y.a,null,r.a.createElement(J.a,{sm:"12",md:{size:6,offset:3}},r.a.createElement("h2",null,"Buy bitcoins via M-Pesa"))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Y.a,{form:!0},r.a.createElement(J.a,{md:5},r.a.createElement(V.a,null,r.a.createElement($.a,{for:"exampleEmail"},"I want to spend")),r.a.createElement(ee.a,null,r.a.createElement(X.a,{placeholder:"Amount of Ksh",step:"0.01",value:l,type:Number,onChange:function(a){e.onChangeHandler(a,"A")}}),r.a.createElement(ae.a,{addonType:"prepend"},t.code))),r.a.createElement(J.a,{md:5},r.a.createElement(V.a,null,r.a.createElement($.a,{for:"exampleEmail"},"I want to buy")),r.a.createElement(ee.a,null,r.a.createElement(X.a,{placeholder:"Amount of bitcoins",max:1e3,step:"any",value:c,type:Number,onChange:function(a){e.onChangeHandler(a,"B")}}),r.a.createElement(ae.a,{addonType:"prepend"},n.code)))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(V.a,null,r.a.createElement(x.a,{type:"submit",color:"primary",size:"lg"},"NEXT")),r.a.createElement("br",null),r.a.createElement(Y.a,null,r.a.createElement(J.a,{md:12},r.a.createElement("p",null,"Exchange Rate: 1 ",n.code," = ","".concat(o," ").concat(t.code))))))}}]),a}(n.Component),ye=function(e){return r.a.createElement(F.a,null,r.a.createElement(K.a,null,r.a.createElement(V.a,{row:!0},r.a.createElement($.a,{for:"bitcoinBalance",sm:2},"Bitcoin balance"),r.a.createElement(J.a,{sm:10},r.a.createElement(X.a,{type:"text",name:"sendTo",id:"sendTo",placeholder:""}))),r.a.createElement(V.a,{row:!0},r.a.createElement($.a,{for:"sendTo",sm:2},"Send to"),r.a.createElement(J.a,{sm:10},r.a.createElement(X.a,{type:"text",name:"sendTo",id:"sendTo",placeholder:""}))),r.a.createElement(V.a,{row:!0},r.a.createElement($.a,{for:"amount",sm:2},"Amount"),r.a.createElement(J.a,{sm:10},r.a.createElement(X.a,{type:"number",name:"amount",id:"amount",placeholder:""}))),r.a.createElement(V.a,{row:!0},r.a.createElement($.a,{for:"transactionCost",sm:2},"Transaction cost"),r.a.createElement(J.a,{sm:10},r.a.createElement(X.a,{type:"text",name:"sendTo",id:"sendTo",placeholder:""}))),r.a.createElement(V.a,null,r.a.createElement(x.a,{type:"submit",color:"primary",size:"lg"},"Send")),r.a.createElement(V.a,null,r.a.createElement("td",null))))},we=t(88),ve=function(e){return r.a.createElement(F.a,{className:"themed-container",fluid:!0},r.a.createElement("h3",null," Coming Soon "),r.a.createElement("div",null,r.a.createElement(we.a,{type:"grow",color:"primary"}),r.a.createElement(we.a,{type:"grow",color:"secondary"}),r.a.createElement(we.a,{type:"grow",color:"success"}),r.a.createElement(we.a,{type:"grow",color:"danger"}),r.a.createElement(we.a,{type:"grow",color:"warning"}),r.a.createElement(we.a,{type:"grow",color:"info"}),r.a.createElement(we.a,{type:"grow",color:"light"}),r.a.createElement(we.a,{type:"grow",color:"dark"})))},Oe=function(e){return r.a.createElement(F.a,{className:"themed-container",fluid:!0},r.a.createElement("h3",null," Coming Soon "),r.a.createElement("div",null,r.a.createElement(we.a,{type:"grow",color:"primary"}),r.a.createElement(we.a,{type:"grow",color:"secondary"}),r.a.createElement(we.a,{type:"grow",color:"success"}),r.a.createElement(we.a,{type:"grow",color:"danger"}),r.a.createElement(we.a,{type:"grow",color:"warning"}),r.a.createElement(we.a,{type:"grow",color:"info"}),r.a.createElement(we.a,{type:"grow",color:"light"}),r.a.createElement(we.a,{type:"grow",color:"dark"})))},je=C((function(){return r.a.createElement(o.a,null,r.a.createElement("div",null,r.a.createElement(N,null),r.a.createElement("hr",null),r.a.createElement(s.a,{exact:!0,path:"/",component:ge}),r.a.createElement(s.a,{exact:!0,path:"/signup",component:_}),r.a.createElement(s.a,{exact:!0,path:"/signin",component:ue}),r.a.createElement(s.a,{exact:!0,path:"/pw-forget",component:le}),r.a.createElement(s.a,{exact:!0,path:"/home",component:ge}),r.a.createElement(s.a,{exact:!0,path:g,component:ge}),r.a.createElement(s.a,{exact:!0,path:"/account",component:he}),r.a.createElement(s.a,{exact:!0,path:"/admin",component:de}),r.a.createElement(s.a,{exact:!0,path:"/wallet",component:ye}),r.a.createElement(s.a,{exact:!0,path:"/about",component:ve}),r.a.createElement(s.a,{exact:!0,path:"/blog",component:Oe})))}));c.a.render(r.a.createElement(p.Provider,{value:new b},r.a.createElement(je,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[47,1,2]]]);
//# sourceMappingURL=main.582387f9.chunk.js.map